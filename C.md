# é™æ€åº“ä¸åŠ¨æ€åº“çš„åˆ¶ä½œä¸ä½¿ç”¨

---

## 1. é™æ€åº“ï¼ˆStatic Libraryï¼‰

### âœ… å‘½åè§„åˆ™  
- **Linux**: `libxxx.a`  
  - `lib`: å›ºå®šå‰ç¼€  
  - `xxx`: åº“åç§°ï¼ˆè‡ªå®šä¹‰ï¼‰  
  - `.a`: åç¼€  
- **Windows**: `libxxx.lib`

### âœ… åˆ¶ä½œæµç¨‹  
1. **ç¼–è¯‘æºæ–‡ä»¶ä¸ºç›®æ ‡æ–‡ä»¶ï¼ˆ.oï¼‰**  
   ```bash
   gcc -c a.c b.c
   ```

2. **ä½¿ç”¨ ar å·¥å…·æ‰“åŒ…ä¸ºé™æ€åº“**  
   ```bash
   ar rcs libxxx.a a.o b.o
   ```

### âœ… ä½¿ç”¨æ–¹æ³•  
ç¼–è¯‘ä¸»ç¨‹åºæ—¶é“¾æ¥é™æ€åº“ï¼š  
```bash
gcc main.c -L. -lxxx -o main
```
è¯´æ˜ï¼š  
- `-L.` æŒ‡å®šåº“æ‰€åœ¨è·¯å¾„  
- `-lxxx` é“¾æ¥åä¸º `libxxx.a` çš„åº“  

---

## 2. åŠ¨æ€åº“ï¼ˆDynamic Libraryï¼‰

### âœ… å‘½åè§„åˆ™  
- **Linux**: `libxxx.so`  
  - `lib`: å›ºå®šå‰ç¼€  
  - `xxx`: è‡ªå®šä¹‰å  
  - `.so`: åŠ¨æ€åº“åç¼€  
- **Windows**: `libxxx.dll`

### âœ… åˆ¶ä½œæµç¨‹  
1. **ç¼–è¯‘ä¸ºä½ç½®æ— å…³ä»£ç ï¼ˆfPICï¼‰**  
   ```bash
   gcc -fPIC -c a.c b.c
   ```

2. **ç”Ÿæˆå…±äº«åº“ï¼ˆ.soï¼‰**  
   ```bash
   gcc -shared a.o b.o -o libxxx.so
   ```

### âœ… ä½¿ç”¨æ–¹æ³•  
ç¼–è¯‘ä¸»ç¨‹åºï¼š  
```bash
gcc main.c -L. -lxxx -o main
```
è¿è¡Œç¨‹åºå‰è®¾ç½®åŠ¨æ€åº“è·¯å¾„ï¼š  
```bash
export LD_LIBRARY_PATH=.
```

---

## 3. é™æ€åº“ vs åŠ¨æ€åº“

| ç‰¹æ€§ | é™æ€åº“ `.a` | åŠ¨æ€åº“ `.so` |
|------|-------------|---------------|
| é“¾æ¥æ–¹å¼ | ç¼–è¯‘æ—¶é“¾æ¥ | è¿è¡Œæ—¶é“¾æ¥ |
| æ˜¯å¦æ‰“åŒ…è¿›ç¨‹åº | æ˜¯ | å¦ |
| å‘å¸ƒæ˜¯å¦éœ€é¢å¤–åº“ | å¦ | æ˜¯ |
| å†…å­˜å ç”¨ | é«˜ï¼ˆæ¯ä¸ªç¨‹åºå„è‡ªåŠ è½½ï¼‰ | ä½ï¼ˆå…±äº«åŠ è½½ï¼‰ |
| æ›´æ–°æ–¹å¼ | éœ€é‡æ–°ç¼–è¯‘ç¨‹åº | å¯ç›´æ¥æ›¿æ¢åº“ |
| ä¼˜ç‚¹ | ç§»æ¤æ–¹ä¾¿ï¼Œæ— ä¾èµ– | æ›´æ–°æ–¹ä¾¿ï¼ŒèŠ‚çœç©ºé—´ |
| ç¼ºç‚¹ | æ›´æ–°éº»çƒ¦ï¼Œç¨‹åºä½“ç§¯å¤§ | è¿è¡Œç¯å¢ƒéœ€æœ‰åº“æ–‡ä»¶ |

---

## ğŸ¯ å¾—åˆ†ç‚¹æ€»ç»“
- âœ… å‘½åè§„èŒƒæ¸…æ¥š
- âœ… åˆ¶ä½œå‘½ä»¤é½å…¨ï¼š`gcc -c`, `ar`, `-fPIC`, `-shared`
- âœ… ä½¿ç”¨æ–¹å¼åŒ…å« `-L`, `-l`ï¼Œå’Œ `LD_LIBRARY_PATH`
- âœ… å¯¹æ¯”æœ‰æ¡ç†ï¼Œæ¶µç›–è¿è¡Œæœºåˆ¶ã€éƒ¨ç½²ã€å†…å­˜ç­‰æ–¹é¢

# GDB å¸¸è§è°ƒè¯•å‘½ä»¤ç®€è¿°

---

## âœ… å¯åŠ¨ä¸é€€å‡º
- å¯åŠ¨è°ƒè¯•ï¼š
  ```bash
  gdb å¯æ‰§è¡Œç¨‹åºå
  ```
- é€€å‡ºï¼š
  ```gdb
  quit æˆ– q
  ```

---

## âœ… è®¾ç½®ç¨‹åºå‚æ•°
- è®¾ç½®å‚æ•°ï¼š
  ```gdb
  set args 10 20
  ```
- æŸ¥çœ‹å‚æ•°ï¼š
  ```gdb
  show args
  ```

---

## âœ… GDB å¸®åŠ©
- è·å–å¸®åŠ©ï¼š
  ```gdb
  help
  ```

---

## âœ… æŸ¥çœ‹ä»£ç 
- å½“å‰æ–‡ä»¶ï¼š
  ```gdb
  list æˆ– l             # é»˜è®¤ä½ç½®å¼€å§‹
  list è¡Œå·             # ä»æŒ‡å®šè¡Œå¼€å§‹
  list å‡½æ•°å           # ä»æŒ‡å®šå‡½æ•°å¼€å§‹
  ```
- å…¶ä»–æ–‡ä»¶ï¼š
  ```gdb
  list æ–‡ä»¶å:è¡Œå·
  list æ–‡ä»¶å:å‡½æ•°å
  ```

- è®¾ç½®æ˜¾ç¤ºè¡Œæ•°ï¼š
  ```gdb
  show listsize
  set listsize è¡Œæ•°
  ```

---

## âœ… è®¾ç½®æ–­ç‚¹
- æ™®é€šæ–­ç‚¹ï¼š
  ```gdb
  break è¡Œå·
  break å‡½æ•°å
  break æ–‡ä»¶å:è¡Œå·
  break æ–‡ä»¶å:å‡½æ•°å
  ```
- æ¡ä»¶æ–­ç‚¹ï¼ˆå¸¸ç”¨äºå¾ªç¯ï¼‰ï¼š
  ```gdb
  break 10 if i == 5
  ```

---

## âœ… ç®¡ç†æ–­ç‚¹
- æŸ¥çœ‹æ–­ç‚¹ï¼š
  ```gdb
  info break æˆ– i b
  ```
- åˆ é™¤æ–­ç‚¹ï¼š
  ```gdb
  delete ç¼–å· æˆ– d ç¼–å·
  ```
- ç¦ç”¨æ–­ç‚¹ï¼š
  ```gdb
  disable ç¼–å·
  ```
- å¯ç”¨æ–­ç‚¹ï¼š
  ```gdb
  enable ç¼–å·
  ```

---

## âœ… ç¨‹åºè¿è¡Œæ§åˆ¶
- å¯åŠ¨å¹¶åœåœ¨ç¬¬ä¸€è¡Œï¼š
  ```gdb
  start
  ```
- æ­£å¸¸è¿è¡Œï¼ˆé‡æ–­ç‚¹æ‰åœï¼‰ï¼š
  ```gdb
  run
  ```
- ç»§ç»­è¿è¡Œåˆ°ä¸‹ä¸€ä¸ªæ–­ç‚¹ï¼š
  ```gdb
  continue æˆ– c
  ```
- å•æ­¥æ‰§è¡Œï¼ˆä¸è¿›å…¥å‡½æ•°ï¼‰ï¼š
  ```gdb
  next æˆ– n
  ```
- å•æ­¥æ‰§è¡Œï¼ˆè¿›å…¥å‡½æ•°ï¼‰ï¼š
  ```gdb
  step æˆ– s
  ```
- è·³å‡ºå½“å‰å‡½æ•°ï¼š
  ```gdb
  finish
  ```
- è·³å‡ºå½“å‰å¾ªç¯ï¼š
  ```gdb
  until
  ```

---

## âœ… å˜é‡æ“ä½œ
- æ‰“å°å˜é‡å€¼ï¼š
  ```gdb
  print å˜é‡å æˆ– p å˜é‡å
  ```
- æ‰“å°å˜é‡ç±»å‹ï¼š
  ```gdb
  ptype å˜é‡å
  ```
- è‡ªåŠ¨æ˜¾ç¤ºå˜é‡å€¼ï¼š
  ```gdb
  display å˜é‡å
  info display
  undisplay ç¼–å·
  ```
- è®¾ç½®å˜é‡å€¼ï¼š
  ```gdb
  set var å˜é‡å=å€¼
  ```

---

## âœ… å¤šè¿›ç¨‹è°ƒè¯•ç›¸å…³
- æŸ¥çœ‹ `follow-fork-mode` é€‰é¡¹å€¼ï¼š
  ```gdb
  show follow-fork-mode
  ```
- è®¾ç½® `follow-fork-mode`ï¼š
  ```gdb
  set follow-fork-mode parent | child
  ```
- æŸ¥çœ‹ `detach-on-fork` é€‰é¡¹å€¼ï¼š
  ```gdb
  show detach-on-fork
  ```
- è®¾ç½® `detach-on-fork`ï¼š
  ```gdb
  set detach-on-fork on | off
  ```
- æŸ¥çœ‹å½“å‰è°ƒè¯•ä¸­çš„è¿›ç¨‹æ•°ï¼š
  ```gdb
  info inferiors
  ```
- åˆ‡æ¢è°ƒè¯•æŸä¸ªè¿›ç¨‹ï¼š
  ```gdb
  inferior è¿›ç¨‹ID
  ```

---

## âœ… æ€»ç»“ - å¾—åˆ†ç‚¹
- å¯åŠ¨ã€é€€å‡ºå‘½ä»¤
- è®¾ç½®ä¸æŸ¥çœ‹å‚æ•°
- æŸ¥çœ‹ä»£ç æŠ€å·§ï¼ˆå½“å‰/éå½“å‰æ–‡ä»¶ï¼‰
- å„ç±»æ–­ç‚¹è®¾ç½®ä¸ç®¡ç†ï¼ˆå«æ¡ä»¶æ–­ç‚¹ï¼‰
- è¿è¡Œæ§åˆ¶ï¼ˆstartã€runã€nextã€stepã€finishã€untilï¼‰
- å˜é‡æ“ä½œï¼ˆprintã€ptypeã€displayã€set varï¼‰
- å¤šè¿›ç¨‹è°ƒè¯•ï¼ˆfork ç›¸å…³è®¾ç½®ã€inferiorsï¼‰
- å…¶ä»–å‘½ä»¤ç®€æ´å®ç”¨

# å¸¸è§çš„è¿›ç¨‹è°ƒåº¦ç®—æ³•ç®€è¿°

è¿›ç¨‹è°ƒåº¦ç®—æ³•æ˜¯æ“ä½œç³»ç»Ÿåœ¨å¤šä¸ªè¿›ç¨‹ç«äº‰ CPU æ—¶å†³å®šå“ªä¸ªè¿›ç¨‹è·å¾—å¤„ç†æœºæ§åˆ¶æƒçš„ç­–ç•¥ã€‚å¸¸è§çš„è°ƒåº¦ç®—æ³•å¦‚ä¸‹ï¼š

---

## 1. å…ˆæ¥å…ˆæœåŠ¡ï¼ˆFCFSï¼‰è°ƒåº¦ç®—æ³•

- æœ€åŸºæœ¬ã€æœ€ç®€å•çš„è°ƒåº¦ç®—æ³•ã€‚
- æŒ‰è¿›ç¨‹è¿›å…¥å°±ç»ªé˜Ÿåˆ—çš„å…ˆåé¡ºåºæ¥åˆ†é… CPUã€‚
- ç‰¹ç‚¹ï¼š
  - å®ç°ç®€å•ï¼Œå…¬å¹³æ€§å¥½ã€‚
  - ä½†ä¸è€ƒè™‘è¿›ç¨‹è¿è¡Œæ—¶é—´ï¼Œå¯èƒ½å¯¼è‡´çŸ­ä½œä¸šç­‰å¾…é•¿æ—¶é—´ã€‚

---

## 2. çŸ­ä½œä¸šä¼˜å…ˆï¼ˆSJFï¼‰è°ƒåº¦ç®—æ³•

- ä¼˜å…ˆé€‰æ‹©**ä¼°è®¡è¿è¡Œæ—¶é—´æœ€çŸ­**çš„ä½œä¸šæ‰§è¡Œã€‚
- åˆç§°çŸ­è¿›ç¨‹ä¼˜å…ˆï¼ˆSPFï¼‰ã€‚
- ç‰¹ç‚¹ï¼š
  - å¹³å‡ç­‰å¾…æ—¶é—´æœ€çŸ­ã€‚
  - æœ‰åˆ©äºæé«˜ç³»ç»Ÿååé‡ã€‚
  - ä½†éœ€è¦é¢„çŸ¥è¿è¡Œæ—¶é—´ï¼Œä¸”å¯èƒ½å¯¼è‡´é•¿ä½œä¸šâ€œé¥¥é¥¿â€ã€‚

---

## 3. ä¼˜å…ˆçº§è°ƒåº¦ç®—æ³•

- æ¯ä¸ªè¿›ç¨‹è¢«èµ‹äºˆä¸€ä¸ªä¼˜å…ˆçº§ã€‚
- è°ƒåº¦æ—¶æ€»æ˜¯é€‰æ‹©**ä¼˜å…ˆçº§æœ€é«˜**çš„è¿›ç¨‹æ‰§è¡Œã€‚
- å¯åˆ†ä¸º**æŠ¢å å¼**å’Œ**éæŠ¢å å¼**ä¸¤ç§ã€‚
- ç‰¹ç‚¹ï¼š
  - é€‚ç”¨äºå¯¹å“åº”é€Ÿåº¦æœ‰è¦æ±‚çš„ä»»åŠ¡ã€‚
  - ä½ä¼˜å…ˆçº§è¿›ç¨‹å¯èƒ½ä¸€ç›´å¾—ä¸åˆ°æ‰§è¡Œæœºä¼šï¼ˆå¯é‡‡ç”¨ä¼˜å…ˆçº§è€åŒ–æœºåˆ¶ç¼“è§£ï¼‰ã€‚

---

## 4. é«˜å“åº”æ¯”ä¼˜å…ˆï¼ˆHRRNï¼‰è°ƒåº¦ç®—æ³•

- å…¼é¡¾ç­‰å¾…æ—¶é—´å’Œè¿è¡Œæ—¶é—´ã€‚
- å“åº”æ¯”è®¡ç®—å…¬å¼ï¼š
  ```
  å“åº”æ¯” = ï¼ˆç­‰å¾…æ—¶é—´ + è¿è¡Œæ—¶é—´ï¼‰/ è¿è¡Œæ—¶é—´
  ```
- æ¯æ¬¡è°ƒåº¦é€‰æ‹©å“åº”æ¯”æœ€é«˜çš„è¿›ç¨‹æ‰§è¡Œã€‚
- ç‰¹ç‚¹ï¼š
  - ç»¼åˆè€ƒè™‘ç­‰å¾…æ—¶é—´å’Œä½œä¸šé•¿åº¦ã€‚
  - æœ‰æ•ˆé¿å…äº† SJF çš„â€œé¥¥é¥¿â€é—®é¢˜ã€‚
  - ç®—æ³•å…¬å¹³æ€§å’Œæ•ˆç‡ä¹‹é—´å–å¾—è¾ƒå¥½å¹³è¡¡ã€‚

---

## 5. æ—¶é—´ç‰‡è½®è½¬ï¼ˆRRï¼‰è°ƒåº¦ç®—æ³•

- é€‚ç”¨äº**åˆ†æ—¶ç³»ç»Ÿ**ã€‚
- æ¯ä¸ªè¿›ç¨‹è¢«åˆ†é…ä¸€ä¸ªå›ºå®šçš„**æ—¶é—´ç‰‡**ã€‚
- æ‰§è¡Œä¸€ä¸ªæ—¶é—´ç‰‡åå°†è¿›ç¨‹é€å›é˜Ÿå°¾ã€‚
- ç‰¹ç‚¹ï¼š
  - æ¯ä¸ªè¿›ç¨‹å…¬å¹³åœ°è·å¾— CPU æ—¶é—´ã€‚
  - æ—¶é—´ç‰‡è¶Šå°ï¼Œå“åº”é€Ÿåº¦è¶Šå¿«ï¼Œä½†ä¸Šä¸‹æ–‡åˆ‡æ¢å¼€é”€è¶Šå¤§ã€‚

---

## 6. å¤šçº§åé¦ˆé˜Ÿåˆ—è°ƒåº¦ç®—æ³•ï¼ˆMFQï¼‰

- ç»“åˆäº†æ—¶é—´ç‰‡è½®è½¬å’Œä¼˜å…ˆçº§è°ƒåº¦çš„ä¼˜ç‚¹ã€‚
- è®¾ç½®å¤šä¸ªå°±ç»ªé˜Ÿåˆ—ï¼Œä¸åŒé˜Ÿåˆ—æœ‰ä¸åŒçš„ä¼˜å…ˆçº§å’Œæ—¶é—´ç‰‡å¤§å°ã€‚
- æ–°è¿›ç¨‹ä»é«˜ä¼˜å…ˆçº§é˜Ÿåˆ—è¿›å…¥ï¼Œè‹¥æœªå®Œæˆåˆ™ä¸‹é™åˆ°ä½ä¼˜å…ˆçº§é˜Ÿåˆ—ã€‚
- ç‰¹ç‚¹ï¼š
  - åŠ¨æ€è°ƒæ•´è¿›ç¨‹ä¼˜å…ˆçº§ã€‚
  - èƒ½å…¼é¡¾**äº¤äº’æ€§å¥½**å’Œ**é•¿ä½œä¸šå¤„ç†èƒ½åŠ›å¼º**çš„ç›®æ ‡ã€‚
  - æ˜¯ç°ä»£æ“ä½œç³»ç»Ÿä¸­æœ€å¸¸ç”¨çš„è°ƒåº¦ç­–ç•¥ä¹‹ä¸€ã€‚

---

## âœ… å¾—åˆ†ç‚¹æ€»ç»“

- å¸¸è§è°ƒåº¦ç®—æ³•ï¼šFCFSã€SJFã€ä¼˜å…ˆçº§ã€HRRNã€RRã€MFQ âœ…
- æ¯ç§ç®—æ³•çš„ç‰¹ç‚¹ä¸é€‚ç”¨åœºæ™¯ âœ…
- ä½“ç°è°ƒåº¦ç®—æ³•çš„å…¬å¹³æ€§ã€æ•ˆç‡ã€å“åº”æ€§ç­‰è€ƒè™‘ âœ…

# ä»€ä¹ˆæ˜¯å¤§ç«¯ã€å°ç«¯ï¼Ÿå¦‚ä½•åˆ¤æ–­ï¼Ÿ

---

## âœ… å­—èŠ‚åºï¼ˆEndianï¼‰

å­—èŠ‚åºæ˜¯æŒ‡å¤šå­—èŠ‚æ•°æ®åœ¨å†…å­˜ä¸­çš„**å­˜å‚¨é¡ºåº**ã€‚å¸¸è§çš„æœ‰ä¸¤ç§ï¼š

---

## 1. å¤§ç«¯å­—èŠ‚åºï¼ˆBig-Endianï¼‰

- é«˜ä½å­—èŠ‚å­˜å‚¨åœ¨å†…å­˜çš„**ä½åœ°å€**å¤„ï¼Œä½ä½å­—èŠ‚å­˜å‚¨åœ¨**é«˜åœ°å€**å¤„ã€‚
- ä¸¾ä¾‹ï¼š`0x0102` å­˜å‚¨ä¸ºï¼š
  ```
  åœ°å€ä½ --> é«˜
  [0x01] [0x02]
  ```

---

## 2. å°ç«¯å­—èŠ‚åºï¼ˆLittle-Endianï¼‰

- ä½ä½å­—èŠ‚å­˜å‚¨åœ¨å†…å­˜çš„**ä½åœ°å€**å¤„ï¼Œé«˜ä½å­—èŠ‚å­˜å‚¨åœ¨**é«˜åœ°å€**å¤„ã€‚
- ä¸¾ä¾‹ï¼š`0x0102` å­˜å‚¨ä¸ºï¼š
  ```
  åœ°å€ä½ --> é«˜
  [0x02] [0x01]
  ```

---

## 3. å¦‚ä½•åˆ¤æ–­å½“å‰ç³»ç»Ÿæ˜¯å¤§ç«¯è¿˜æ˜¯å°ç«¯ï¼Ÿ

å¯ä»¥ä½¿ç”¨ `union` è”åˆä½“æ¥å®ç°ï¼š

### âœ… ç¤ºä¾‹ä»£ç ï¼š

```c
#include <stdio.h>

int main() {
    union {
        short value;
        char bytes[sizeof(short)];
    } test;

    test.value = 0x0102;

    if (test.bytes[0] == 1 && test.bytes[1] == 2) {
        printf("å¤§ç«¯å­—èŠ‚åº\n");
    } else if (test.bytes[0] == 2 && test.bytes[1] == 1) {
        printf("å°ç«¯å­—èŠ‚åº\n");
    } else {
        printf("æœªçŸ¥å­—èŠ‚åº\n");
    }

    return 0;
}
```

---

## âœ… æ€»ç»“ï¼ˆå¾—åˆ†ç‚¹ï¼‰

- å­—èŠ‚åºçš„æ¦‚å¿µï¼ˆå¤šå­—èŠ‚æ•°æ®çš„å­˜å‚¨é¡ºåºï¼‰
- å¤§ç«¯ï¼šé«˜ä½åœ¨ä½åœ°å€ âœ…
- å°ç«¯ï¼šä½ä½åœ¨ä½åœ°å€ âœ…
- ä½¿ç”¨ `union` åˆ¤æ–­ç³»ç»Ÿå­—èŠ‚åº âœ…
